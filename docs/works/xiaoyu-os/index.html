<!doctype html>

<html lang="en">

<head>
  <title>XiaoYu OS - Hemashushu&#39;s Homepage</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Hemashushu&#39;s homepage, sharing some computer technology, programming skills, learning notes, some home-brew softwares and hardwares" />
<meta name="author" content="hemashushu" /><meta property="og:title" content="XiaoYu OS" />
<meta property="og:description" content="XiaoYu OS is a brand new operating system built for the modern engineer&rsquo;s daily workflow. Every application runs in secure, isolated environement with minimal privileges, requesting permissions only when needed. This also ensures a pristine system, even after years of use, free from accumulated clutter or hidden processes. XiaoYu OS empowers developers to directly maintain their applications, eliminating the need for dedicated package maintainers.
What makes XiaoYu OS unique? The XiaoYu OS is the result of the author&rsquo;s long-term thinking about operating system and human-computer interaction." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hemashushu.github.io/works/xiaoyu-os/" /><meta property="article:section" content="works" />
<meta property="article:published_time" content="2024-01-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-01-19T00:00:00+00:00" />


<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="XiaoYu OS"/>
<meta name="twitter:description" content="XiaoYu OS is a brand new operating system built for the modern engineer&rsquo;s daily workflow. Every application runs in secure, isolated environement with minimal privileges, requesting permissions only when needed. This also ensures a pristine system, even after years of use, free from accumulated clutter or hidden processes. XiaoYu OS empowers developers to directly maintain their applications, eliminating the need for dedicated package maintainers.
What makes XiaoYu OS unique? The XiaoYu OS is the result of the author&rsquo;s long-term thinking about operating system and human-computer interaction."/>

<meta name="generator" content="Hugo 0.122.0">
    
    <script src="/js/mathjax-config.js" defer></script>
    
    
    <script src="/js/polyfill.min.js"></script>
    <script id="MathJax-script" async src="/js/tex-mml-chtml.js"></script>

  
  <link rel="stylesheet" href="/css/normalize.min.css" />
  <link rel="stylesheet" href="https://hemashushu.github.io/fontawesome/css/all.min.css" />
  

  
  
  <link rel="stylesheet" type="text/css" href="/css/styles.css" /><link rel='stylesheet' href='https://hemashushu.github.io/css/custom.css'></head>

<body>
  <header>
    <div id="content">
      <ul id="social-media">
        
                <li>
                <a href="https://github.com/hemashushu" title="GitHub">
                <i class="fab fa-github fa-lg"></i>
                </a>
                </li>
                <li>
                <a href="https://twitter.com/hemashushu" title="Twitter">
                <i class="fab fa-twitter fa-lg"></i>
                </a>
                </li>
                <li>
                <a href="https://www.youtube.com/@hemashushu" title="Youtube">
                <i class="fab fa-youtube fa-lg"></i>
                </a>
                </li>
      </ul>

      
      <h1>
      <a href="/">Hemashushu&rsquo;s Homepage</a>
      </h1>

      
      <p><em>Curiosity, exploration and creation</em></p>
      
    </div>
  </header>
  <div id="container">


    
<nav>
    <ul>
        <li>
            <a  href="/" title="Home">Home</a>
        </li>
        
        <li>
            <a class="" href="/download/">
                <i class="fa-li fa  fa-lg"></i><span>Download</span>
            </a>
        </li>
        
        <li>
            <a class="active" href="/works/">
                <i class="fa-li fa  fa-lg"></i><span>Works</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/books/">
                <i class="fa-li fa  fa-lg"></i><span>Books</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Blog</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/about/">
                <i class="fa-li fa  fa-lg"></i><span>About</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>




<article>

    <h1>XiaoYu OS</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2024-01-19T00:00:00Z">Jan 19, 2024</time>
        </li>
        

        
        <li>
            Categories:
            <em>
                
                    
                    <a href="/categories/os">os</a>
                
            </em>
        </li>
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/xiaoyu-os">#xiaoyu-os</a>
                
            </em>
        </li>
        

        <li>11 minute read</li>
    </ul>
</aside>

    

    
      

    

    <figure class="mid"><img src="./images/banner.webp"/>
</figure>

<p><em>XiaoYu OS</em> is a brand new operating system built for the modern engineer&rsquo;s daily
workflow.
Every application runs in secure, isolated environement with minimal privileges,
requesting permissions only when needed. This also ensures a pristine system, even after
years of use, free from accumulated clutter or hidden processes.
XiaoYu OS empowers developers to directly maintain their applications, eliminating the
need for dedicated package maintainers.</p>
<h2 id="what-makes-_xiaoyu-os_-unique">What makes <em>XiaoYu OS</em> unique?</h2>
<p>The <em>XiaoYu OS</em> is the result of the author&rsquo;s long-term thinking about operating system and human-computer interaction. It is a completely new design, from its visual appearance to its internal workings. The system includes many innovative features that make it unique.</p>
<ul>
<li>
<p><strong>Strict security</strong></p>
<p>Except for a few programs such as the system initializer, graphic compositor and message bus, all applications run in their own containers. Applications are granted minimal permissions, so you can run any application without worrying about it modifying your system or accessing your private data and files.</p>
</li>
<li>
<p><strong>Clean and tidy</strong></p>
<p>Temporary data and files generated by applications are limited to their own containers. When an application is removed, all associated cache and temporary files are automatically removed, ensuring no garbage is left in the system.</p>
</li>
<li>
<p><strong>High availability</strong></p>
<p>The system avoids the use of global dynamic shared libraries. Instead, each application bundles its own required libraries and resources, ensuring uninterrupted operation even in the face of major system updates or modifications.</p>
</li>
</ul>
<figure class="wide white"><img src="./images/system-arch.webp"
         alt="An overview of the system architecture"/><figcaption>
            <p>An overview of the system architecture</p>
        </figcaption>
</figure>

<blockquote>
<p>To minimize file redundancy, commonly used shared libraries are packaged into a component called &ldquo;Core.&rdquo; A system can simultaneously support multiple versions of &ldquo;Core,&rdquo; while each application can only depend on a specific version. This approach achieves a balance between reducing application size and avoiding shared libraries version compatibility and conflict issues.</p>
</blockquote>
<ul>
<li>
<p><strong>High portability</strong></p>
<p>Unlike traditional applications that require installation and often system modifications, <em>XiaoYu OS</em> applications are entirely portable. Simply copy the application to your system and run it immediately. Even the copying step can be bypassed; a URL representing the application suffices, and the system will automatically download and cache the necessary code and data from the internet. <em>XiaoYu OS</em> revolutionizes not only the user experience of obtaining applications but also the developer workflow for application distribution.</p>
</li>
</ul>
<blockquote>
<p>Even <em>XiaoYu OS</em> itself does not require installation. Booting <em>XiaoYu OS</em> is as simple as copying its image to a USB Flash Disk.</p>
</blockquote>
<ul>
<li>
<p><strong>Brand new UI</strong></p>
<p><em>XiaoYu OS</em> has a brilliant, dynamic UI that prioritizes efficiency. The new UI steers clear of the shortcomings of traditional UIs, such as rigidity, monotony, and operational inconvenience. It offers a user-friendly and flexible experience that is visually appealing and consistently refreshing. (For details, please refer to the following chapters.)</p>
</li>
<li>
<p><strong>New interaction mode</strong></p>
<p><em>XiaoYu OS</em> introduces a new approach to human-computer interaction called <em>XiaoYu Terminal</em>, which integrating CLI, GUI, dataset workbench and large language model (LLM) assistance. <em>XiaoYu Terminal</em> empowers advanced users and engineers with an exceptionally flexible and efficient work environment. (For details, please refer to the following chapters)</p>
</li>
<li>
<p><strong>Seamless Linux application compatibility</strong></p>
<p><em>XiaoYu OS</em> provides a Linux compatibility layer, which allows traditional Linux applications (including CLI programs and GUI applications) to run seamlessly with near-zero performance loss. As a result, <em>XiaoYu OS</em> boasts a large number of high-quality, mature and professional application from the very outset.</p>
</li>
</ul>
<h2 id="an-overview-of-the-ui">An overview of the UI</h2>
<p><strong>Colorful by design</strong></p>
<p>Applications can now ditch the standard &ldquo;light&rdquo; and &ldquo;dark&rdquo; themes and choose their own unique color schemes. You can even personalize your desktop further by assigning different colors to different apps, making your workspace truly your own.</p>
<figure class="wide white"><img src="./images/ui/colourful.webp"
         alt="Colourful application apperance"/><figcaption>
            <p>Colourful application apperance</p>
        </figcaption>
</figure>

<p><strong>Clean and uncluttered</strong></p>
<p>Forget the space-wasting status bar and rarely used search bar. The XiaoYu OS desktop is all about minimalism, featuring only the essentials: a <em>Launcher Button</em>, <em>Task Manager Bar</em>, and <em>Status Controller</em>. This clutter-free environment keeps your desktop looking fresh and organized.</p>
<figure class="wide white"><img src="./images/ui/desktop.webp"
         alt="XiaoYu OS Desktop"/><figcaption>
            <p>XiaoYu OS Desktop</p>
        </figcaption>
</figure>

<p><strong>Efficiency at your fingertips</strong></p>
<p>The Launcher is designed for simplicity and speed. All your applications are listed directly, eliminating the need to navigate through submenus. Frequently used apps can be added to the &ldquo;Favorites&rdquo; list for even faster access.</p>
<figure class="mid white"><img src="./images/ui/launcher-apps.webp"
         alt="The application list"/><figcaption>
            <p>The application list</p>
        </figcaption>
</figure>

<p>And for common tasks like document management, music playback, and photo viewing, the launcher provides built-in functionality, saving you the hassle of switching between multiple applications.</p>
<div class="gallery cols-3">
    <div class="items">
    
    <div class="item">
        <figure>
            <img src="./images/ui/launcher-documents.webp">
            
                <figcaption><p>Document management</p></figcaption>
            
        </figure>
    </div>
    

    <div class="item">
        <figure>
            <img src="./images/ui/launcher-music.webp">
            
                <figcaption><p>Music playback</p></figcaption>
            
        </figure>
    </div>
    

    <div class="item">
        <figure>
            <img src="./images/ui/launcher-photos.webp">
            
                <figcaption><p>Photo viewing</p></figcaption>
            
        </figure>
    </div>
    


    </div>
    
</div>
<p><strong>Smart status control</strong></p>
<p>The status controller displays only the most essential information and controls, adapting to your current activity. For instance, playing music reveals additional &ldquo;Now Playing&rdquo; controls.</p>
<div class="gallery cols-3">
    <div class="items">
    
    <div class="item">
        <figure>
            <img src="./images/ui/statusbar-now-playing.webp">
            
                <figcaption><p>Now Playing</p></figcaption>
            
        </figure>
    </div>
    

    <div class="item">
        <figure>
            <img src="./images/ui/statusbar-notifications.webp">
            
                <figcaption><p>Notifications</p></figcaption>
            
        </figure>
    </div>
    

    <div class="item">
        <figure>
            <img src="./images/ui/statusbar-calendar.webp">
            
                <figcaption><p>Calendar and schedule</p></figcaption>
            
        </figure>
    </div>
    


    </div>
    
</div>
<p>It also offers quick access to features like calendar, schedule, and message notifications through a convenient pop-up.</p>
<p><strong>Dynamic task management</strong></p>
<p>The XiaoYu OS taskbar is dynamic, displaying only currently running applications without any grouping or hiding. This ensures you can easily find the window you need with just a single click.</p>
<figure class="wide white"><img src="./images/ui/taskbar.webp"
         alt="Different styles of taskbar when windows increases"/><figcaption>
            <p>Different styles of taskbar when windows increases</p>
        </figcaption>
</figure>

<p><strong>Familiar Look and Feel</strong></p>
<p>XiaoYu OS&rsquo;s UI uses window components that are similar to the web, making it easy for both developers and designers to design application interfaces.</p>
<figure class="wide white"><img src="./images/ui/component.webp"
         alt="Web style look-and-fell"/><figcaption>
            <p>Web style look-and-fell</p>
        </figcaption>
</figure>

<h2 id="an-overview-of-the-_xiaoyu-terminal_">An overview of the <em>XiaoYu Terminal</em></h2>
<p>TODO</p>
<h2 id="q--a">Q &amp; A</h2>
<p><strong>Is <em>XiaoYu OS</em> a toy operating system?</strong></p>
<p>No, <em>XiaoYu OS</em> is not designed for educational purposes or as a hobby project. It aims to be fully functional operating system for daily use.</p>
<p><strong>Is <em>XiaoYu OS</em> a Linux distribution?</strong></p>
<p>No, <em>XiaoYu OS</em> is not a Linux distribution in the traditional sense. While it is based on the Linux kernel for hardware compatibility, all user-space programs are developed from scratch using <em>XiaoXuan Native</em>, <em>XiaoXuan Core</em>, and <em>Rust</em>. This means that <em>XiaoYu OS</em> does not include common Linux software packages such as <em>Glibc</em>, <em>Systemd</em>, <em>Coreutils</em>, <em>Binutils</em>, and <em>GCC</em>, nor does it have package managers like <em>APT</em>, <em>RPM</em>, <em>DNF</em>, or <em>Pacman</em>. As a result, regular Linux programs cannot run directly on <em>XiaoYu OS</em>.</p>
<p>However, <em>XiaoYu OS</em> includes a built-in &ldquo;Linux compatibility layer&rdquo; that allows most Linux applications to run seamlessly. You can also create <em>Arch</em>, <em>Ubuntu</em>, and <em>Fedora</em>-like Linux environments within <em>XiaoYu OS</em>, allowing you to add or remove applications using familiar methods. This is similar to WSL in Windows and Linux in ChromeOS, but with significant improvements.</p>
<p><strong>Why not make <em>XiaoYu OS</em> a Linux distribution?</strong></p>
<p>There are already many excellent and mature Liunx distributions available, such as <em>Arch</em>, <em>Ubuntu</em>, <em>Debian</em>, and <em>Fedora</em>. I believe there is no need to create &ldquo;yet another Linux distribution&rdquo;. Additionaly, maintaining a distribution&rsquo;s software repository requires a significant amount of effort, which is beyond my personal capabilities. I am more passionate about creating a new operating system that can attract both application developers and users while reducing the burden on system developers.</p>
<blockquote>
<p>While the Linux world offers a vast collection of libraries and programs, it also carries a significant historical burden. These legacy issues can complicate simple tasks and discourage new developers and users. <em>XiaoYu OS</em>, drawing lessons from these challenges, aims to liberate system developers, application developers, and users from these burdens by providing a completely new environment.</p>
</blockquote>
<p><strong>How does <em>XiaoYu OS</em> differ from &ldquo;Immutable Linux&rdquo;</strong></p>
<p><em>XiaoYu OS</em> and &ldquo;Immutable Linux&rdquo; (e.g. NixOS, Fedora Silverblue) share a similar architecture, but <em>XiaoYu OS</em> provides a completely new runtime environment, including libraries, tools, and languages.</p>
<p><strong>Which desktop environment does <em>XiaoYu OS</em> use?</strong></p>
<p><em>XiaoYu OS</em> uses a custom desktop environemnt developed by me. It has its own unique look and feel, following its own UI design guidelines, and offers a more intuitive user experience.</p>
<p>The desktop environment (graphic server) is based on the Wayland display server protocal, so traditional Linux GUI programs can still run on <em>XiaoYu OS</em>.</p>
<p><strong>Can you briefly describe the system architecture of <em>XiaoYu OS</em>?</strong></p>
<p>The system architecture of <em>XiaoYu OS</em> is very simple and straightforward. It consists of four layers:</p>
<ol>
<li>Base System</li>
<li>Core/Runtime (providing common libraries, GUI libraries, etc.)</li>
<li>Containers</li>
<li>Applications</li>
</ol>
<p><strong>How do Linux applications run on <em>XiaoYu OS</em>?</strong></p>
<p><em>XiaoYu OS</em> has a lightweight &ldquo;Linux Compatibility layer&rdquo; that create a classic Linux file hierarchy structure, maps the user directory, and launches Linux applications through containers. From the perspective of the Linux application, it is running on a regular Linux system.</p>
<p><strong>Can all Linux applications run normally on <em>XiaoYu OS</em>?</strong></p>
<p>Almost all Linux applications can run on <em>XiaoYu OS</em>, except for those that modify the system or hardware. Some system programs may run but not produce correct results. For example, a program that displays network interface IP addresses will show a virtual IP address instead of the host&rsquo;s real address.</p>
<p><strong>Can <em>XiaoYu OS</em> native applications communicate with Linux applications?</strong></p>
<p>Yes, they can. For example, you can use <em>XiaoYu Terminal</em> to edit a text file by calling <em>Vim</em>. You will need to &ldquo;install&rdquo; a pre-packaged version of <em>Vim</em> using <em>XiaoYu OS</em>&rsquo;s application manager.</p>
<p><strong>Can you show me the disk partition layout of <em>XiaoYu OS</em>?</strong></p>
<p>Sure, here is a typical <em>XiaoYu OS</em> disk parition layout. Users can customize the layout according to their needs.</p>
<figure class="wide white"><img src="./images/ui/disk-partition-layout.webp"
         alt="Disk partition layout"/><figcaption>
            <p>Disk partition layout</p>
        </figcaption>
</figure>

<p><strong>What is &ldquo;Base System B&rdquo;?</strong></p>
<p><em>XiaoYu OS</em>&rsquo;s &ldquo;Base System&rdquo; is a tiny, immutable, atomically updated base system. It contains the Linux kernel, system initializer, message bus, and other basic programs. The base system is read-only. To update the base system, you can only update from &ldquo;Base System A&rdquo; to &ldquo;Base System B&rdquo; (or vice versa). When the update is complete, the system bootloader will choose the newer version from partitions A and B when the machine boots next. The A/B system ensures that the system can always boot correctly and will not be damaged due to a half-completed update.</p>
<p><strong>What happens if I run the command <code>sudo rm -rf /</code>?</strong></p>
<p>On traditional Linux systems, running this command will delete all the files on the system, including the operating system and user data. This is a classic and dangerous command to misuse.</p>
<p>On immutable Linux systems, the base system is &ldquo;read-only&rdquo; and is therefore preserved. The machine can still be booted, but user-installed software, configurations, and data will still be lost, and the system will be restored to its inital state.</p>
<p>With <em>XiaoYu OS</em>, the situation is different. The <code>rm</code> command is not granted permission to delete the base system or application software, nor is it granted permission to delete the entire user data directory. Therefore, running the command <code>sudo rm -rf /</code> will do nothing by default. If it is run in Linux compatibility mode, the command can only delete virtual files in the container, and has no effect on other containers or the host system.</p>
<p>In short, in <em>XiaoYu OS</em>, even if you are not familiar with the system, no wrong operation will cause serious consequences.</p>
<blockquote>
<p>It is worth mentioning that the <code>rm</code> command in <em>XiaoYu OS</em> has been rewritten. Delteted files will be put in the &ldquo;Recycle Bin&rdquo; instead of disappearing directly, so even if you delete the wrong file, you can still recover it.</p>
</blockquote>
<h2 id="motivation">Motivation</h2>
<p>Linux is my primary desktop operaing system. The more I learn about it, the more I appreciate its power and greatness. I am also grateful to the hundreds of developers and maintainers who have contributed to this system. However, like many Linux fans, I have encountered countless confusing problems over the years, each of which has cost me several nights of sleep. I have also tried dozens of distributions and switched between GNOME and KDE countless times.</p>
<p>As as result, an immature idea gradually emerged: I want to create a different Linux distribution, an operating system that saves users trouble.</p>
<p>It didn&rsquo;t take long for me to implement a system initializer, a container service, and other basic programs in the C language, completing a simple prototype. Later, after learning the Rust language, I rewrote these programs in Rust. Now that I have my own progamming language and compiler, I am ready to switch to the XiaoXuan Lang.</p>
<p>During this time, I began to have second thoughts about my original idea. I realized that it is not enough to just solve user-side problems. In the Linux environment, application (mainly desktop application) developers and system maintainers also encounter many frustrating problems, and creating a &ldquo;special Linux distribution&rdquo; or a &ldquo;immutable Linux&rdquo; will not change that.</p>
<p>Therefore, I believe that we should rethink the design of the entire system. The new system should absorb the advantages of other modern systems, provide new development tools (programming languages) and libraries, reduce the burden on developers, and reduce the problems encountered by users. At the same time, it should use certain mechanisms to allow traditional Linux applications to run normally. Just as Android and ChromeOS, which are also based on the Linux kernel, have been successful on mobile devices and netbooks, I believe that the new system has the potential to succeed on the desktop.</p>
<p>This is the origin of the <em>XiaoYu OS</em> project.</p>
<p>However, developing a new system is a huge undertaking. XiaoYu OS is just getting started, so there are no programs to download or experience yet. In the future, I will continue to add document to the project, complete the development of basic programs, and update information will be published in the blog section of this website.</p>
<blockquote>
<p>If you think my project is meaningful, please consider sponsoring me. This is really important for a project that requires a long time commitment, thank you!</p>
</blockquote>
<h2 id="related-projects">Related projects</h2>
<ul>
<li><span class="null-link">XiaoYu UEFI</span> a bootloader for XiaoYu OS</li>
</ul>


</article>


<section class="post-nav">
    <ul>
        <li>
        
            <a href="https://hemashushu.github.io/works/xiaoxuan-core/"><i class="fa fa-chevron-circle-left"></i> XiaoXuan Core</a>
        
        </li>
        <li>
        
            <a href="https://hemashushu.github.io/works/xiaoyu-micro-os/">XiaoYu Micro OS <i class="fa fa-chevron-circle-right"></i> </a>
        
        </li>
    </ul>
</section>
  
    
    
  





</main>
    <footer>
        <ul>
            <li>
                <span>Copyright Â© 2023 - Hippospark Young | 
                    <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh"><img alt="cc by-nc-nd" class="license" src="/images/cc-by-nc-nd.png" /></a> |
                    Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
                    Theme <a href="https://github.com/hemashushu/hugo-selina" title="Selina">Selina</a> |
                    <a href="https://hemashushu.github.io/index.xml">Subscribe </a></span>
            </li>
            
            
        </ul>
        
    </footer>
</div>
<script src="/js/scripts.js"></script>

  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J7X4YJHXM9"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-J7X4YJHXM9', { 'anonymize_ip': false });
}
</script>





</body>

</html>

